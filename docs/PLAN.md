# 폰가비 클론 사이트 분석 및 설계 계획

## 1. 폰가비(fongabi.com) 사이트 분석 결과

### 1.1 메인 네비게이션 메뉴 구조
```
┌─────────────────────────────────────────────────────────────┐
│  FONGABI 로고  │  메뉴 탭들  │  로그인 · 회원가입  │  햄버거 메뉴  │
└─────────────────────────────────────────────────────────────┘
```

| 메뉴 | URL | 설명 |
|------|-----|------|
| 판매하기 | /sale | 중고기기 판매 접수 |
| 구매하기 | /buy | 중고기기 구매 |
| 나의 거래내역 | /my/transactions | 판매/구매 내역 조회 |
| 실거래 리뷰 | /reviews | 거래 후기 |
| 중고폰 시세 | /price | 기기별 시세 조회 |
| 내 기기 관리 | /my/devices | 등록 기기 관리 |

**햄버거 메뉴 (더보기):**
- 폰가비 소개
- 폰가비 이용방법
- 이벤트
- 공지사항
- 자주 묻는 질문 (FAQ)
- 분실/도난 조회

---

### 1.2 주요 기능 상세

#### A. 판매하기 기능
```
[판매 프로세스]
1. 기기 카테고리 선택 → 2. 모델 선택 → 3. 상태 입력 (셀프 검수)
→ 4. 견적 확인 → 5. 거래 방식 선택 → 6. 접수 완료 → 7. 검수/입금
```

**기기 카테고리:**
- 스마트폰 (아이폰, 갤럭시, LG 등)
- 태블릿 (아이패드, 갤럭시탭 등)
- 스마트워치 (애플워치, 갤럭시워치)
- 노트북 (맥북, LG그램, 삼성 노트북 등)
- 무선이어폰 (에어팟, 갤럭시버즈)

**등급 시스템 (판매):**
| 등급 | 외관 상태 | 액정 상태 |
|------|----------|----------|
| A | 깨끗 | 깨끗 |
| B | 미세 흠집 | 깨끗 |
| C | 흠집/찍힘 | 흠집 |
| D | 파손 | 흠집/파손 |
| E | 기능불량 | 심각한 파손/불량 |

**거래 방식:**
- 택배 거래 (무료 수거 택배, 편의점 택배)
- 방문 거래
- 픽업 거래

**주요 기능:**
- 실시간 견적 시스템 (파트너 사업자 제안)
- 오늘의 시세 조회
- 개인정보 안전삭제 인증서 발급
- 즉시 입금 처리
- 전화 접수 (070-8219-1971)

---

#### B. 구매하기 기능

**필터링 시스템:**
```yaml
제조사: [애플, 삼성, LG, 레노버]
기종: [스마트폰, 태블릿, 스마트워치, 노트북]
시리즈:
  - 아이폰: 17/16/15/14/13/12/11/X/SE/8/7 시리즈
  - 아이패드: 프로/에어/일반
  - 애플워치: 10/8/7/6/5/4/SE 시리즈
  - 맥북: 에어/프로
  - 갤럭시: S/폴드/플립/A/노트 시리즈
  - 갤럭시워치: 7/6/5/4/3 시리즈
```

**상품 등급 (구매):**
- 미개봉: 새제품
- 단순개봉: 개봉만 한 새제품급
- S+: 최상급 중고
- S: 상급 중고
- A: 양호 중고
- B+/B: 사용감 있는 중고

**상품 정보:**
- 모델명, 용량, 색상
- 정가 대비 할인율
- 판매가
- 평점 (5.0 만점)
- 배터리 효율 (%)
- 제조사 보증 기간
- 제조연월
- 품질보증/실물인증 배지

**저장공간 필터:** 16GB ~ 1024GB
**가격대 필터:** 10만원 이하 ~ 70만원 이상

---

#### C. 리뷰 시스템
- 판매/구매 구분 표시
- 거래 기기 정보
- 리뷰 제목/내용
- 별점
- 좋아요 기능
- 제안받은 견적 건수
- 작성일/작성자 (이름 마스킹)

---

#### D. 기타 기능
- **챗봇**: 실시간 고객 상담
- **렌탈하기**: 기기 렌탈 서비스
- **법인문의**: B2B 대량 거래
- **분실/도난 조회**: IMEI 기반 조회

---

### 1.3 기술 스택 (분석됨)
```yaml
Frontend:
  - Framework: Nuxt.js (Vue 3 기반 SSR)
  - Analytics: Google Tag Manager, Facebook Pixel
  - Push: Firebase Cloud Messaging, FlareLane

Payment:
  - PG: 이니시스 (KG Inicis)

Certifications:
  - ISMS 인증 (ISMS-KISA-2025-067)
  - 중고단말안심거래사업자 인증
```

---

## 2. 백오피스 필요 기능 분석

### 2.1 상품 관리
```yaml
상품_등록:
  - 기기 정보 입력 (브랜드, 모델, 용량, 색상)
  - 등급 설정 및 상태 입력
  - 이미지 업로드 (실물 사진)
  - 가격 설정 (자동/수동)
  - 배터리 효율, 제조연월 입력
  - 품질보증/실물인증 배지 설정

재고_관리:
  - 재고 현황 대시보드
  - 입고/출고 처리
  - 재고 알림 설정
  - 일련번호(IMEI) 관리

가격_관리:
  - 시세 데이터 연동/입력
  - 등급별 가격 자동 계산
  - 프로모션 가격 설정
  - 가격 변동 이력
```

### 2.2 주문/거래 관리
```yaml
판매_접수_관리:
  - 판매 접수 목록
  - 견적 제안 관리
  - 검수 프로세스 관리
  - 등급 판정 및 최종 가격 확정
  - 입금 처리

구매_주문_관리:
  - 주문 목록/상세
  - 주문 상태 관리 (결제대기→결제완료→배송중→배송완료)
  - 배송 정보 관리
  - 송장 등록

결제_관리:
  - 결제 내역 조회
  - 환불 처리
  - 정산 관리

배송_관리:
  - 배송사 연동 (CJ대한통운, 편의점 택배 등)
  - 송장 자동 등록
  - 배송 추적
```

### 2.3 사용자 관리
```yaml
회원_관리:
  - 회원 목록/검색
  - 회원 상세 정보
  - 거래 이력
  - 회원 등급/혜택 관리
  - 휴면/탈퇴 처리

파트너_관리:
  - 파트너(매입 사업자) 등록/관리
  - 파트너 실적 관리
  - 정산 관리
  - 파트너 등급 관리

권한_관리:
  - 관리자 계정 관리
  - 역할별 권한 설정
  - 접근 로그
```

### 2.4 컨텐츠 관리
```yaml
배너_관리:
  - 메인 슬라이드 배너
  - 팝업 배너
  - 카테고리별 배너

게시판_관리:
  - 공지사항
  - 이벤트/프로모션
  - FAQ
  - 이용가이드

리뷰_관리:
  - 리뷰 목록/검색
  - 리뷰 승인/반려
  - 부적절 리뷰 관리
```

### 2.5 시세/가격 관리
```yaml
시세_관리:
  - 기기별 시세 데이터 입력/수정
  - 외부 시세 데이터 연동
  - 시세 변동 알림
  - 시세 히스토리

자동_가격_설정:
  - 시세 기반 자동 가격 계산 규칙
  - 등급별 감가율 설정
  - 용량별 가격 차등
```

### 2.6 통계/리포트
```yaml
대시보드:
  - 실시간 거래 현황
  - 일/주/월별 매출
  - 인기 상품
  - 재고 현황

상세_리포트:
  - 매출 분석
  - 회원 분석
  - 상품별 판매 분석
  - 파트너 실적 분석
```

---

## 3. 멀티 사이트 아키텍처 설계

### 3.1 아키텍처 개요
```
┌─────────────────────────────────────────────────────────────────┐
│                    슈퍼 어드민 백오피스                           │
│  (모든 테넌트 관리, 시스템 설정, 마스터 데이터)                    │
└─────────────────────────────────────────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        │                     │                     │
        ▼                     ▼                     ▼
┌───────────────┐    ┌───────────────┐    ┌───────────────┐
│   테넌트 A    │    │   테넌트 B    │    │   테넌트 C    │
│  (폰가비형)   │    │  (노트북형)   │    │   (워치형)    │
│ fongabi.com   │    │ notegabi.com  │    │ watchgabi.com │
└───────────────┘    └───────────────┘    └───────────────┘
        │                     │                     │
        └─────────────────────┼─────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                      공통 코어 시스템                            │
│  - 인증/인가                                                    │
│  - 결제 시스템                                                  │
│  - 배송 시스템                                                  │
│  - 알림 시스템                                                  │
│  - 시세 데이터                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 데이터베이스 설계 전략

**멀티테넌시 접근 방식: 공유 데이터베이스 + 테넌트 ID**

```sql
-- 테넌트 테이블
tenants
├── id (PK)
├── name
├── domain
├── settings (JSON)
├── theme (JSON)
├── status
└── created_at

-- 모든 주요 테이블에 tenant_id 추가
products
├── id (PK)
├── tenant_id (FK → tenants.id)  -- 테넌트 구분
├── category_id
├── brand
├── model
├── ...

orders
├── id (PK)
├── tenant_id (FK)
├── user_id
├── ...
```

### 3.3 시스템 컴포넌트

```yaml
Frontend:
  framework: Nuxt 3 (SSR/SSG)
  styling: Tailwind CSS
  state: Pinia
  특징:
    - 테넌트별 테마 동적 적용
    - 도메인 기반 테넌트 식별
    - 공통 컴포넌트 라이브러리

Backend:
  framework: NestJS (Node.js) 또는 FastAPI (Python)
  database: PostgreSQL
  cache: Redis
  search: Elasticsearch (상품 검색)
  queue: Bull (작업 큐)
  특징:
    - RESTful API + GraphQL (선택적)
    - 테넌트 미들웨어
    - 모듈식 아키텍처

Infrastructure:
  container: Docker + Kubernetes
  ci_cd: GitHub Actions
  monitoring: Prometheus + Grafana
  logging: ELK Stack
```

### 3.4 슈퍼 어드민 백오피스 기능

```yaml
테넌트_관리:
  - 새 테넌트 생성/설정
  - 테넌트 도메인 관리
  - 테넌트 상태 관리 (활성/비활성/일시중지)
  - 테넌트별 기능 활성화/비활성화
  - 테넌트 삭제/데이터 백업

마스터_데이터:
  - 공통 카테고리 관리
  - 브랜드/모델 마스터 데이터
  - 시세 데이터 통합 관리
  - 공통 등급 기준

시스템_설정:
  - 결제 PG 설정
  - 배송사 연동 설정
  - 알림 설정 (SMS, 이메일, 푸시)
  - 외부 API 연동 관리

통합_모니터링:
  - 전체 테넌트 대시보드
  - 시스템 상태 모니터링
  - 에러/장애 알림
  - 성능 메트릭

청구/정산:
  - 테넌트별 사용량 추적
  - 수수료 정산
  - 청구서 발행
```

---

## 4. 확정된 기술 스택

```yaml
Frontend:
  - Nuxt 3 (Vue 3)
  - Tailwind CSS
  - Pinia (상태관리)
  - Nuxt UI (컴포넌트)

Backend:
  - NestJS (TypeScript)
  - PostgreSQL (주 DB)
  - Redis (캐시, 세션)
  - Prisma (ORM)

Payment:
  - 토스페이먼츠

Infrastructure:
  - Docker
  - 초기: 단일 서버 또는 Vercel/Railway
  - 확장 시: Kubernetes
```

---

## 5. 구현 순서 (우선순위)

### MVP Phase (약 8-10주)
```
Week 1-2: 프로젝트 설정 및 기반
├── Nuxt 3 + NestJS 프로젝트 구조
├── PostgreSQL + Prisma 설정
├── 인증/인가 (회원가입, 로그인)
└── 기본 레이아웃 및 라우팅

Week 3-4: 상품 및 카탈로그
├── 상품 데이터 모델
├── 상품 목록/상세 페이지
├── 필터링/검색
└── 카테고리 관리

Week 5-6: 판매 기능
├── 판매 접수 프로세스
├── 기기 상태 입력 (셀프검수)
├── 시세 조회/견적
└── 거래 방식 선택

Week 7-8: 구매 기능
├── 장바구니
├── 토스페이먼츠 결제 연동
├── 주문 프로세스
└── 배송 정보 관리

Week 9-10: 리뷰 및 마무리
├── 리뷰 작성/조회
├── 마이페이지 (거래내역)
├── 백오피스 기본 기능
└── 테스트 및 버그 수정
```

### 확장 Phase (MVP 완료 후)
```
- 멀티테넌트 구조 적용
- 슈퍼 어드민 백오피스
- 챗봇
- 렌탈 기능
- 고급 통계/리포트
```

---

## 6. 검증 방법

### 기능 검증
- [ ] 회원가입/로그인 → 마이페이지 접근
- [ ] 상품 목록 → 필터링 → 상품 상세
- [ ] 판매 접수 → 시세 확인 → 접수 완료
- [ ] 구매 → 결제 (토스페이먼츠 테스트) → 주문 완료
- [ ] 리뷰 작성 → 리뷰 목록 확인

### 기술 검증
- [ ] Playwright E2E 테스트
- [ ] Jest 단위 테스트
- [ ] API 문서 (Swagger)
- [ ] 성능 테스트 (Lighthouse)
